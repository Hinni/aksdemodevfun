{"options":[{"enabled":false,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"999450","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/master","+refs/heads/develop"],"pathFilters":["+/DevFun.Web"],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2}],"variables":{"ImageName":{"value":"akscontainerregistrydemo.azurecr.io/devfunweb"},"MajorVersion":{"value":"1"},"MinorVersion":{"value":"0"},"system.debug":{"value":"false","allowOverride":true}},"retentionRules":[{"branches":["+refs/heads/*"],"artifacts":[],"artifactTypesToDelete":["FilePath","SymbolStore"],"daysToKeep":10,"minimumToKeep":1,"deleteBuildRecord":true,"deleteTestResults":true}],"properties":{},"tags":[],"metrics":[{"name":"CurrentBuildsInQueue","scope":"refs/heads/master","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/master","intValue":0},{"name":"CurrentBuildsInQueue","scope":"refs/heads/develop","intValue":0},{"name":"CurrentBuildsInProgress","scope":"refs/heads/develop","intValue":0},{"name":"CanceledBuilds","scope":"refs/heads/master","intValue":0,"date":"2018-05-28T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/master","intValue":1,"date":"2018-05-28T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/master","intValue":0,"date":"2018-05-28T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/master","intValue":2,"date":"2018-05-28T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/master","intValue":3,"date":"2018-05-28T00:00:00.000Z"},{"name":"CanceledBuilds","scope":"refs/heads/develop","intValue":0,"date":"2018-05-28T00:00:00.000Z"},{"name":"FailedBuilds","scope":"refs/heads/develop","intValue":2,"date":"2018-05-28T00:00:00.000Z"},{"name":"PartiallySuccessfulBuilds","scope":"refs/heads/develop","intValue":0,"date":"2018-05-28T00:00:00.000Z"},{"name":"SuccessfulBuilds","scope":"refs/heads/develop","intValue":2,"date":"2018-05-28T00:00:00.000Z"},{"name":"TotalBuilds","scope":"refs/heads/develop","intValue":4,"date":"2018-05-28T00:00:00.000Z"}],"_links":{"self":{"href":"https://4tecture-training.visualstudio.com/b99c7ae1-909b-4176-ab71-4f664c6d917e/_apis/build/Definitions/61?revision=1"},"web":{"href":"https://4tecture-training.visualstudio.com/b99c7ae1-909b-4176-ab71-4f664c6d917e/_build/definition?definitionId=61"},"editor":{"href":"https://4tecture-training.visualstudio.com/b99c7ae1-909b-4176-ab71-4f664c6d917e/_build/designer?id=61&_a=edit-build-definition"}},"buildNumberFormat":"$(MajorVersion).$(MinorVersion)$(rev:.r)","jobAuthorizationScope":1,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"BuildVersioning","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"9e3e2353-692f-4804-9fc1-8a3bca551511","versionSpec":"0.*","definitionType":"task"},"inputs":{"sourcePath":"","versionSource":"buildNumber","doInstallGitVersion":"true","GitVersionInstallerUrl":"https://github.com/GitTools/GitVersion/releases/download/v4.0.0-beta.13/GitVersion_4.0.0-beta0013.zip","customNumberVariable":"myBuildNumber","versionFormat":"threeParts","customBuildRegex":"\\d+\\.\\d+\\.\\d+\\.\\d+","buildRegexIndex":"0","paramAssemblyVersion":"3","paramAssemblyFileVersion":"3","paramAssemblyInformationalVersion":"3","doAssemblyInfoAppendSuffix":"false","paramAssemblyInfoSuffixType":"4","paramAssemblyInformationalVersionSuffix":"","buildNumberVersionFormat":"1","buildNumberAction":"replace","doReplaceAssemblyInfo":"false","filePatternAssemblyInfo":"**\\AssemblyInfo.*","doReplaceNuspec":"false","filePatternNuspec":"**\\*.nuspec","paramNuspecVersionType":"2","doNuspecUpdateDepencency":"false","nuspecDependencyPackageName":"","doReplaceNpm":"false","filePatternNpm":"**\\package.json","paramNpmVersionType":"1","doReplaceDotNetCore":"true","filePatternDotNetCore":"**\\*.csproj","paramDotNetCoreVersionType":"3","doReplaceAndroid":"false","filePatternAndroid":"**\\AndroidManifest.xml","doReplaceiOS":"false","filePatterniOS":"**\\Info.plist","doReplaceCustom":"false","filePatternCustom":"**\\<myfilepattern>","paramCustomSearchRegex":"(<AssemblyVersion>)(\\d+\\.\\d+\\.\\d+(?:\\.\\d+)?)(</AssemblyVersion>)","paramCustomReplaceRegex":"$1$(BuildVersion.Version)$3","doShowWarningsForUnmatchedRegex":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build an image","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpoint":"6c21d324-0eb1-4c03-932b-822b9f9b4282","azureContainerRegistry":"{\"loginServer\":\"akscontainerregistrydemo.azurecr.io\", \"id\" : \"/subscriptions/b62d3288-5a59-42f8-9d2d-80ac884c172e/resourceGroups/AKSDevFunDemo/providers/Microsoft.ContainerRegistry/registries/AKSContainerRegistryDemo\"}","action":"Build an image","dockerFile":"DevFun.Web/DevFun.Web/Dockerfile","buildArguments":"","defaultContext":"false","context":"DevFun.Web","imageName":"$(ImageName):$(BuildVersion.Version)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"false","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Push an image","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpoint":"6c21d324-0eb1-4c03-932b-822b9f9b4282","azureContainerRegistry":"{\"loginServer\":\"akscontainerregistrydemo.azurecr.io\", \"id\" : \"/subscriptions/b62d3288-5a59-42f8-9d2d-80ac884c172e/resourceGroups/AKSDevFunDemo/providers/Microsoft.ContainerRegistry/registries/AKSContainerRegistryDemo\"}","action":"Push an image","dockerFile":"DevFun.Api/DevFun.Api/Dockerfile","buildArguments":"","defaultContext":"false","context":"DevFun.Api","imageName":"$(ImageName):$(BuildVersion.Version)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"false","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Helm 2.8.2","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"068d5909-43e6-48c5-9e01-7c8a94816220","versionSpec":"0.*","definitionType":"task"},"inputs":{"helmVersion":"2.8.2","checkLatestHelmVersion":"true","installKubeCtl":"true","kubectlVersion":"1.8.9","checkLatestKubeCtl":"true"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"helm init --client-only","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"afa7d54d-537b-4dc8-b60a-e0eeea2c9a87","versionSpec":"0.*","definitionType":"task"},"inputs":{"connectionType":"Azure Resource Manager","azureSubscriptionEndpoint":"6c21d324-0eb1-4c03-932b-822b9f9b4282","azureResourceGroup":"AKSDevFunDemo","kubernetesCluster":"AKSDevFunDemo","kubernetesServiceEndpoint":"","namespace":"","command":"init","chartType":"Name","chartName":"","chartPath":"","version":"","releaseName":"","overrideValues":"","valueFile":"","destination":"$(Build.ArtifactStagingDirectory)","canaryimage":"false","upgradetiller":"false","updatedependency":"false","save":"true","install":"true","recreate":"false","resetValues":"false","force":"false","waitForExecution":"true","arguments":"--client-only","enableTls":"false","caCert":"","certificate":"","privatekey":"","tillernamespace":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"helm package","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"afa7d54d-537b-4dc8-b60a-e0eeea2c9a87","versionSpec":"0.*","definitionType":"task"},"inputs":{"connectionType":"Azure Resource Manager","azureSubscriptionEndpoint":"6c21d324-0eb1-4c03-932b-822b9f9b4282","azureResourceGroup":"AKSDevFunDemo","kubernetesCluster":"AKSDevFunDemo","kubernetesServiceEndpoint":"","namespace":"","command":"package","chartType":"Name","chartName":"","chartPath":"DevFun.Web/DevFun.Web/charts/devfunweb","version":"","releaseName":"","overrideValues":"","valueFile":"","destination":"$(Build.ArtifactStagingDirectory)","canaryimage":"false","upgradetiller":"true","updatedependency":"false","save":"false","install":"true","recreate":"false","resetValues":"false","force":"false","waitForExecution":"true","arguments":"","enableTls":"false","caCert":"","certificate":"","privatekey":"","tillernamespace":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifact: DevFun.Web","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(Build.ArtifactStagingDirectory)","ArtifactName":"DevFun.Web","ArtifactType":"Container","TargetPath":"","Parallel":"false","ParallelCount":"8"}}],"name":"Phase 1","refName":"Phase_1","condition":"succeeded()","target":{"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":"projectCollection","jobCancelTimeoutInMinutes":1}],"type":1},"repository":{"properties":{"cleanOptions":"0","labelSources":"0","labelSourcesFormat":"$(build.buildNumber)","reportBuildStatus":"true","gitLfsSupport":"false","skipSyncSource":"false","checkoutNestedSubmodules":"false","fetchDepth":"0"},"id":"e6201cc6-63d7-4ab1-a8bd-cea4558ed8fb","type":"TfsGit","name":"AKSDevFun","url":"https://4tecture-training.visualstudio.com/AKSDevFun/_git/AKSDevFun","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"processParameters":{},"quality":1,"authoredBy":{"displayName":"Marc Müller","url":"https://app.vssps.visualstudio.com/A0fe543e9-3af0-46a2-a388-9cc8bd6bb2a0/_apis/Identities/3410303d-aff2-42ac-b781-1124beed07a7","_links":{"avatar":{"href":"https://4tecture-training.visualstudio.com/_apis/GraphProfile/MemberAvatars/msa.ZWJhMGM3ZjQtYTY1OC03NzVhLTk5MTAtZGE2OTJkOGRjMDll"}},"id":"3410303d-aff2-42ac-b781-1124beed07a7","uniqueName":"mmueller@4tecture.ch","imageUrl":"https://4tecture-training.visualstudio.com/_api/_common/identityImage?id=3410303d-aff2-42ac-b781-1124beed07a7","descriptor":"msa.ZWJhMGM3ZjQtYTY1OC03NzVhLTk5MTAtZGE2OTJkOGRjMDll"},"drafts":[],"queue":{"_links":{"self":{"href":"https://4tecture-training.visualstudio.com/_apis/build/Queues/753"}},"id":753,"name":"Hosted Linux Preview","url":"https://4tecture-training.visualstudio.com/_apis/build/Queues/753","pool":{"id":4,"name":"Hosted Linux Preview","isHosted":true}},"id":61,"name":"DevFun.Web-CI","url":"https://4tecture-training.visualstudio.com/b99c7ae1-909b-4176-ab71-4f664c6d917e/_apis/build/Definitions/61?revision=1","uri":"vstfs:///Build/Definition/61","path":"\\","type":2,"queueStatus":0,"revision":1,"createdDate":"2018-05-28T08:27:49.800Z","project":{"id":"b99c7ae1-909b-4176-ab71-4f664c6d917e","name":"AKSDevFun","url":"https://4tecture-training.visualstudio.com/_apis/projects/b99c7ae1-909b-4176-ab71-4f664c6d917e","state":"wellFormed","revision":409417279,"visibility":0}}